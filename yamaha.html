<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>DiagDaddy • Yamaha Motorcycles</title>
  <meta name="description" content="DiagDaddy – diagnostic prompts for Yamaha motorcycles such as YZF, MT and FJR series. Generate customer statements, questions and responses tailored to Yamaha bikes.">
<link rel="stylesheet" href="style.css" />
</head>
<body class="brand-yamaha">
</head>
<body>
<div class="bg fx-grid"></div>

<div class="topbar">
  <div class="dot"></div>
  <div>
    <div class="title-main">Yamaha Motorcycles</div>
    <div class="title-sub">simple diagnostic prompts</div>
  </div>
  <!-- home navigation -->
  <a href="index.html" style="margin-left:14px;font-size:11px;color:var(--muted);text-decoration:none;">Home</a>
</div>

<div class="hud">
  <div class="block-left">
    <div class="toolbar">
      <div class="tag-toggle">
        <button id="segRandom" class="active">Random</button>
        <button id="segManual">Manual</button>
      </div>

      <div id="manualInputs" class="row" style="display:none">
        <label>Model
          <select id="modelS"></select>
        </label>
        <label>Year
          <select id="yearS"></select>
        </label>
        <label>System
          <select id="systemS"></select>
        </label>
        <label>Index
          <input id="idxS" type="number" min="1" max="50000" value="1" style="width:70px" />
        </label>
      </div>

      <button id="genSimple" class="btn acc">
        Generate <small>(G)</small>
      </button>
    </div>

    <div class="card">
      <h3>Customer Statement</h3>
      <p class="small">Plain language, the way the rider would actually say it.</p>
      <textarea id="csSimple" readonly></textarea>
      <p id="simpleMeta" class="meta"></p>
    </div>
  </div>

  <div class="block-right">
    <div class="photo-shell">
      <div class="photo-wrap">
        <img id="simplePhoto" class="photo" alt="Yamaha motorcycle image" />
        <div id="simplePlaceholder" class="placeholder" style="display:none">NO IMAGE</div>
      </div>
      <div class="photo-meta">
        <strong id="simpleCaption"></strong>
        <span id="simpleCredit"></span>
      </div>
    </div>
  </div>
</div>

<script>
// -------- DATA --------
/*
 * Yamaha model range.  Production years are drawn from official
 * sources: YZF‑R1 has been produced since 1998【413874732936185†L165-L178】,
 * YZF‑R6 from 1999–2020【925919394740014†L133-L144】, MT‑07 and MT‑09 both from 2014–present【364035680428864†L123-L129】【209585910945308†L125-L133】,
 * and the FJR1300 started in 2001 and wrapped up around 2023【901330423528361†L157-L160】.
 */
const MODELS = [
  {model:'YZF-R1', start:1998, end:2025},
  {model:'YZF-R6', start:1999, end:2020},
  {model:'MT-07', start:2014, end:2025},
  {model:'MT-09', start:2014, end:2025},
  {model:'FJR1300', start:2001, end:2023}
];

const SYSTEMS=["STARTING","FUEL","ELECTRICAL","INTAKE","BRAKES","ENGINE_MECHANICAL"];

const IMAGE_INDEX={
  'YZF-R1': {
    url:'https://upload.wikimedia.org/wikipedia/commons/1/14/Yamaha_R1_2009.jpg',
    credit:'Wikimedia Commons'
  }
};

const $ = s => document.querySelector(s);

// RNG / seed
function hashString(s){
  let h=1779033703^s.length;
  for(let i=0;i<s.length;i++){
    h=Math.imul(h^s.charCodeAt(i),3432918353); h=h<<13|h>>>19;
  }
  return h>>>0;
}
function RNG(seed){
  let x=seed>>>0;
  return{
    next(){x^=x<<13;x^=x>>>17;x^=x<<5;return(x>>>0)/4294967296},
    int(n){return Math.floor(this.next()*n)}
  };
}

// text library (same as Kawasaki; reused to keep narrative consistent)
const LIB={
  STARTING:{stm:[
    "it won't start",
    "the starter just clicks",
    "it cranks but never fires",
    "it only starts with a jump",
    "it only starts sometimes",
    "it stalls right after starting"
  ], q:[
    "how many miles are on the bike?",
    "does the starter turn the engine over?",
    "have you tried charging or jumping the battery?",
    "do you hear a clicking noise when pressing start?",
    "was the bike sitting for a long time?"
  ], rsp:[
    "Sounds like the battery may be weak or the starter circuit is having issues. We'll check connections and battery health.",
    "A clicking starter usually means a dead battery or bad solenoid. We'll test the electrical system.",
    "If it cranks but doesn't fire, we'll look at fuel and ignition components for problems.",
    "Intermittent starting can be caused by loose wiring or a failing starter relay. We'll diagnose it.",
    "Stalling right after starting could indicate a fuel delivery issue or idle adjustment. We'll investigate."
  ]},
  FUEL:{stm:[
    "it runs out of fuel quickly",
    "the fuel gauge doesn't work",
    "it smells like gas",
    "there's fuel leaking",
    "engine sputters at high speed"
  ],q:[
    "when did you last fill up?",
    "do you see any leaks?",
    "does it stall at idle or when accelerating?",
    "have you checked the fuel petcock and hoses?",
    "does the fuel light turn on?"
  ],rsp:[
    "We'll inspect the fuel lines and tank for leaks and test the fuel pump.",
    "A faulty fuel gauge could be the sending unit or wiring; we'll test it.",
    "Fuel smell or visible leaks means a line or gasket might be compromised; we'll address it.",
    "Sputtering at speed might be from a clogged fuel filter or injector issue; we'll diagnose accordingly."
  ]},
  ELECTRICAL:{stm:[
    "lights flicker while riding",
    "battery keeps dying",
    "fuses blow repeatedly",
    "dash lights are dim",
    "horn stopped working"
  ],q:[
    "have you added any accessories?",
    "do you see corrosion on terminals?",
    "when was the battery last replaced?",
    "does the problem happen at idle or while riding?",
    "are any warning lights on?"
  ],rsp:[
    "We'll check the charging system and battery connections for faults.",
    "Repeated fuse failures could indicate a short circuit; we'll trace and repair it.",
    "Dim lights often point to a weak battery or failing stator; we'll test output.",
    "A dead horn might be a bad switch or relay; we'll diagnose and replace if needed."
  ]},
  INTAKE:{stm:[
    "it backfires through the intake",
    "throttle is sluggish",
    "air filter is dirty",
    "engine hesitates when opening throttle",
    "rough idle"
  ],q:[
    "when was the air filter last changed?",
    "are there any mods to the intake?",
    "does it idle smoothly?",
    "have you synced the throttle bodies recently?",
    "does it improve with choke?"
  ],rsp:[
    "A dirty air filter or intake leak can cause backfires; we'll inspect and clean.",
    "Sluggish throttle response may be due to clogged injectors or throttle body issues; we'll service them.",
    "Hesitation on acceleration could come from improper fuel/air mixture; we'll adjust it.",
    "Rough idle often indicates intake or vacuum leaks; we'll diagnose and correct."
  ]},
  BRAKES:{stm:[
    "brakes feel spongy",
    "it pulls when braking",
    "there's a squeal from the brakes",
    "brake light stays on",
    "ABS warning light is lit"
  ],q:[
    "when were the pads last replaced?",
    "is the fluid level correct?",
    "does the lever/pedal feel firm?",
    "have you noticed any leaks?",
    "is the ABS light flashing or solid?"
  ],rsp:[
    "Spongy brakes typically mean air in the lines or old fluid; we'll bleed and replace it.",
    "Pulling during braking may come from uneven pad wear or rotor issues; we'll inspect.",
    "Squealing often indicates worn pads; we'll check pad thickness and rotors.",
    "A stuck brake light could be a bad switch; we'll test and replace if necessary.",
    "ABS warnings require a diagnostic scan; we'll read the codes and address the issue."
  ]},
  ENGINE_MECHANICAL:{stm:[
    "there's a knocking noise",
    "excessive vibration",
    "oil leaks",
    "engine overheats",
    "low oil pressure warning"
  ],q:[
    "does the noise increase with RPM?",
    "when was the oil last changed?",
    "do you see oil on the ground or engine?",
    "does the temperature gauge rise quickly?",
    "have any warning lights come on?"
  ],rsp:[
    "Knocking noises can indicate bearing issues; we'll check for wear.",
    "Vibration might come from misfiring cylinders or engine mounts; we'll inspect.",
    "Oil leaks need to be located and sealed; we'll clean and test.",
    "Overheating could be due to coolant issues or blocked radiators; we'll diagnose.",
    "Low oil pressure warnings require immediate attention; we'll test pressure and investigate."
  ]}
};

// script functions
function populateModels(){
  const modelSel = document.querySelector('#modelS');
  modelSel.innerHTML = '';
  MODELS.forEach(m => {
    const opt = document.createElement('option');
    opt.value = m.model;
    opt.textContent = m.model;
    modelSel.appendChild(opt);
  });
}
function populateYears(model){
  const yrSel = document.querySelector('#yearS');
  yrSel.innerHTML = '';
  const m = MODELS.find(x => x.model === model);
  if(!m) return;
  for(let y=m.start; y<=m.end; y++){
    const opt = document.createElement('option');
    opt.value = y;
    opt.textContent = y;
    yrSel.appendChild(opt);
  }
}
function populateSystems(){
  const sysSel = document.querySelector('#systemS');
  sysSel.innerHTML = '';
  SYSTEMS.forEach(s => {
    const opt=document.createElement('option');
    opt.value=s;
    opt.textContent=s;
    sysSel.appendChild(opt);
  });
}

function buildStatement(model,year,sys,idx){
  const seedStr = `${model}-${year}-${sys}-${idx}`;
  const rng = RNG(hashString(seedStr));
  const seg = LIB[sys];
  const stm = seg.stm[rng.int(seg.stm.length)];
  const rsp = seg.rsp[rng.int(seg.rsp.length)];
  const q = seg.q[rng.int(seg.q.length)];
  return {stm,rsp,q};
}
function setPhoto(model){
  const entry = IMAGE_INDEX[model];
  const img = document.querySelector('#simplePhoto');
  const cap = document.querySelector('#simpleCaption');
  const cred = document.querySelector('#simpleCredit');
  const placeholder = document.querySelector('#simplePlaceholder');
  if(entry && entry.url){
    img.src = entry.url;
    cap.textContent = model;
    cred.textContent = entry.credit || '';
    img.style.display = '';
    placeholder.style.display = 'none';
  } else {
    img.src = '';
    img.style.display = 'none';
    placeholder.style.display = '';
    cap.textContent = model;
    cred.textContent = '';
  }
}
document.addEventListener('DOMContentLoaded', () => {
  populateModels();
  populateSystems();
  populateYears(MODELS[0].model);
  document.querySelector('#modelS').addEventListener('change', e => {
    populateYears(e.target.value);
  });
  function generate(){
    const modeRandom = document.getElementById('segRandom').classList.contains('active');
    let model, year, system, idx;
    if(modeRandom){
      const rand = Math.floor(Math.random()*MODELS.length);
      model = MODELS[rand].model;
      const y = MODELS[rand];
      year = Math.floor(Math.random()*(y.end - y.start + 1)) + y.start;
      system = SYSTEMS[Math.floor(Math.random()*SYSTEMS.length)];
      idx = Math.floor(Math.random()*50000)+1;
    } else {
      model = document.querySelector('#modelS').value;
      year = parseInt(document.querySelector('#yearS').value);
      system = document.querySelector('#systemS').value;
      idx = parseInt(document.querySelector('#idxS').value);
    }
    const {stm,rsp,q} = buildStatement(model,year,system,idx);
    document.querySelector('#csSimple').value = `${stm}\n\n${rsp}\n\n${q}`;
    document.querySelector('#simpleMeta').textContent = `${model} • ${year} • ${system} (#${idx})`;
    setPhoto(model);
  }
  document.getElementById('segRandom').addEventListener('click', () => {
    document.getElementById('segRandom').classList.add('active');
    document.getElementById('segManual').classList.remove('active');
    document.getElementById('manualInputs').style.display = 'none';
  });
  document.getElementById('segManual').addEventListener('click', () => {
    document.getElementById('segManual').classList.add('active');
    document.getElementById('segRandom').classList.remove('active');
    document.getElementById('manualInputs').style.display = '';
  });
  document.getElementById('genSimple').addEventListener('click', generate);
  document.addEventListener('keydown', e => {
    if(e.key==='g' || e.key==='G'){ generate(); }
  });
  generate();
});
</script>
</body>
</html>
